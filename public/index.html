<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <title>Sklep</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="app.css" />
</head>
<body>
  <header>
    <h1>Sklep</h1>
    <small>API: <code id="api-url"></code></small>
  </header>

  <main class="grid">
    <section>
      <h2>Produkty</h2>
      <form id="product-form">
        <label>Nazwa <input name="name" placeholder="Nowy produkt" required></label>
        <label>Cena <input name="price" type="number" step="0.01" min="0" value="9.99" required></label>
        <button type="submit">Dodaj produkt</button>
        <p class="hint" id="prod-msg"></p>
      </form>

      <table id="products">
        <thead><tr><th>Nazwa</th><th>Cena</th><th>Akcja</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <section>
      <h2>Koszyk</h2>
      <table id="cart">
        <thead><tr><th>Produkt</th><th>Liczba</th><th>Cena</th><th>Suma</th><th></th></tr></thead>
        <tbody></tbody>
        <tfoot>
          <tr>
            <td colspan="3" style="text-align:right">RAZEM</td>
            <td id="cart-total">0.00</td>
            <td></td>
          </tr>
        </tfoot>
      </table>

      <div class="row">
        <button id="checkout" type="button">Zamów</button>
        <span class="hint" id="checkout-msg"></span>
      </div>
    </section>

    <section class="wide">
      <h2>Historia zamówień</h2>
      <div id="orders"></div>
    </section>
  </main>

  <footer><small>Created by IA, polished by AI</small></footer>

  <script>
    window.API_BASE = window.location.origin;
    const el = document.getElementById("api-url");
    if (el) el.textContent = window.API_BASE;
  </script>
  <script src="app.js"></script>
</body>
</html>